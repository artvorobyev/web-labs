# Отчет по Лабораторной работе №1

[Задание](https://docs.google.com/document/d/12X1aQF72_Hr9OeTsHcBjE4W9VzQsZgoD3Vlcf0BZ24U/edit)

## Метод OPTIONS

Используется для определения возможностей веб-сервера или параметров соединения для конкретного ресурса. Предполагается, что запрос клиента может содержать тело сообщения для указания интересующих его сведений. Формат тела и порядок работы с ним в настоящий момент не определён. Сервер пока должен его игнорировать. Аналогичная ситуация и с телом в ответе сервера.

![Ответы OPTIONS](https://api.monosnap.com/file/download?id=jqqEN5CGrVotszbI53QN76aJAZVP4v)

Наиболее верно и ожидаемо отреагировал Google:

![Ответ Google](https://api.monosnap.com/file/download?id=MFJY0kQX8dSlqWhaSn3KIWJbfZQo0R)

## Метод HEAD

Запрос HEAD обычно применяется для извлечения метаданных, проверки наличия ресурса (валидация URL) и чтобы узнать, не изменился ли он с момента последнего обращения.

![Ответы HEAD](https://api.monosnap.com/file/download?id=eOMdCFaABVHdFjNetzvbTamn166GLF)

Наиболее верно и ожидаемо отреагировал Apple:

![Ответ Apple](https://api.monosnap.com/file/download?id=NvhqmrPfYxU2RH2NjZONxupGXECU5v)

## Методы GET и POST

В ответах на GET-запросы ресурсы возвращают HTML-документы:

![Ответы GET](https://api.monosnap.com/file/download?id=vlzUDkRWjtAHPdUcDtxHS53tpmTpFK)

Ресурсы не разрешают POST-запросы:

![Ответы POST](https://api.monosnap.com/file/download?id=tdYzuw2b5KffI0A5HGOZSJxeWFjrhG)

## Работа c VK API

Для получения факультетов нужно получить id университета с помощью метода database.getUniversities:

![Получаем id университета](https://api.monosnap.com/file/download?id=KX2132PXNcdllnwjlVEV62N0FY0h40)

После этого получаем список факультетов с помощью метода database.getFaculties с параметром university_id=250.

![Получаем список факультетов](https://api.monosnap.com/file/download?id=xL0EeI4ct7yLGP37oKVqaBhizQFZ7C)

Тело ответа:

```json
{
  "response": {
    "count": 20,
    "items": [
      { "id": 1031, "title": "Аэрокосмический факультет" },
      { "id": 1032, "title": "Факультет инженерного бизнеса и менеджмента" },
      { "id": 1033, "title": "Факультет информатики и систем управления" },
      { "id": 1034, "title": "Факультет машиностроительных технологий" },
      { "id": 1035, "title": "Факультет оптико-электронного приборостроения" },
      { "id": 1036, "title": "Приборостроительный факультет" },
      { "id": 1037, "title": "Радиотехнический факультет" },
      { "id": 1038, "title": "Факультет радиоэлектроники и лазерной техники" },
      { "id": 1039, "title": "Факультет ракетно-космической техники" },
      {
        "id": 1040,
        "title": "Факультет робототехники и комплексной автоматизации"
      },
      { "id": 1041, "title": "Факультет специального машиностроения" },
      { "id": 1042, "title": "Факультет фундаментальных наук" },
      { "id": 1043, "title": "Факультет энергомашиностроения" },
      {
        "id": 1044,
        "title": "Кафедра юриспруденции, интеллектуальной собственности и судебной экспертизы"
      },
      { "id": 1803, "title": "Факультет биомедицинской техники" },
      { "id": 1804, "title": "Факультет социально-гуманитарных наук" },
      { "id": 56430, "title": "Факультет лингвистики" },
      { "id": 56431, "title": "Физкультурно-оздоровительный факультет" },
      {
        "id": 2071503,
        "title": "Головной учебно-исследовательский и методический центр (ГУИМЦ)"
      },
      {
        "id": 2183736,
        "title": "Факультет военного обучения (Военный институт)"
      }
    ]
  }
}
```

Для получения аватарки используем метод users.get с параметрами user_ids=10100355 и fields=photo_max_orig. Тело ответа:

```json
{
  "response": [
    {
      "first_name": "Артемий",
      "id": 10100355,
      "last_name": "Воробьёв",
      "photo_max_orig": "https://sun9-51.userapi.com/s/v1/if1/6TzjrGsbZHmuUR05LNTHRFHGJa77BF-ewIa8v7fFthKwKMatBZin7JmfUfN0r8ppQ9DitB0C.jpg?size=400x0&quality=96&crop=31,84,1196,1196&ava=1"
    }
  ]
}
```

Вопросы:

**Что содержит тело ответа?**

Тело ответа содержит данные о пользователе

**В каком формате и какой кодировке содержаться данные?**

В формате json, кодировке utf-8

**Какой веб-сервер отвечает на запросы?**

kittenx

**Какая версия протокола HTTP используется?**

HTTP/1.1

### Отправляем запись на стену пользователя

![Запрос в Network](https://api.monosnap.com/file/download?id=H5a4ADOrYRUfJZZtwPNPXNnUCtf92Y)

![Результат](https://api.monosnap.com/file/download?id=AP6Kn1YCp5Ajq64sDA0y8u1gLjm9d1)

**Каким образом передаются данные от пользователя к серверу в POST-запросах?**

При отправке POST-запроса, браузер устанавливает заголовок Content-Type, в котором передается тип отправляемых данных. Наиболее часто встречается тип данных «application/x-www-form-urlencoded». Это формат для кодирования пар ключ-значение с возможностью дублирования ключей. Каждая пара ключ-значение отделяется символом &, ключ отделён от значения символом = . В ключах и значениях пробелы заменяются на знак +, и затем, используя URL-кодирование, заменяются все не буквенно-цифровые символы.

## Серверное приложение

Переход в папку приложения:

```
cd server
```

Установка зависимостей:

```
npm install
```

Запуск сервера:

```
node index.js
```

После этого сервер доступен для запросов по адресу http://localhost:8080. В ответ на get-запрос отображает содержимое файла data.json. При post-запросе записывает в файл тело запроса. При put-запросе добавляет в файл тело запроса.
